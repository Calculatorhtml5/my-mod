package com.example.abilitiesweapons.item.custom;import com.example.abilitiesweapons.AbilitiesWeaponsMod;import net.minecraft.entity.LivingEntity;import net.minecraft.entity.effect.StatusEffectInstance;import net.minecraft.entity.effect.StatusEffects;import net.minecraft.item.ItemTier;import net.minecraft.item.ItemStack;import net.minecraft.item.SwordItem;import net.minecraft.particle.ParticleTypes;import net.minecraft.server.world.ServerWorld;import net.minecraft.sound.SoundCategory;import net.minecraft.sound.SoundEvents;import net.minecraft.util.math.Vec3d;public class AetheriumBladeItem extends SwordItem {public static final int COOLDOWN_TICKS = 15 * 20;public AetheriumBladeItem(ItemTier toolMaterial, int attackDamage, float attackSpeed, Settings settings) {super(toolMaterial, attackDamage, attackSpeed, settings);}public void activateAbility(LivingEntity user) {if (user.getWorld().isClient()) return;ServerWorld world = (ServerWorld) user.getWorld();Vec3d lookVec = user.getRotationVector().normalize();double dashDistance = 4.0;Vec3d targetPos = user.getPos().add(lookVec.multiply(dashDistance));user.setVelocity(lookVec.x * 1.5, Math.max(0.2, lookVec.y * 0.5 + 0.2), lookVec.z * 1.5);user.addStatusEffect(new StatusEffectInstance(StatusEffects.SPEED, 60, 2));user.addStatusEffect(new StatusEffectInstance(StatusEffects.RESISTANCE, 40, 0));world.spawnParticles(ParticleTypes.FIREWORK, user.getX(), user.getY() + 1.0, user.getZ(),15, 0.2, 0.2, 0.2, 0.1);world.spawnParticles(ParticleTypes.ENCHANT, user.getX(), user.getY() + 1.0, user.getZ(),20, 0.5, 0.5, 0.5, 0.1);world.playSound(null, user.getX(), user.getY(), user.getZ(), SoundEvents.ENTITY_PLAYER_ATTACK_SWEEP, SoundCategory.PLAYERS, 1.0F, 1.2F);world.playSound(null, user.getX(), user.getY(), user.getZ(), SoundEvents.ITEM_TRIDENT_RIPTIDE_1, SoundCategory.PLAYERS, 1.0F, 1.0F);if (user instanceof net.minecraft.entity.player.PlayerEntity player) {player.getItemCooldownManager().set(this, COOLDOWN_TICKS);}user.getMainHandStack().damage(1, user, (p) -> p.sendToolBreakStatus(user.getActiveHand()));}}