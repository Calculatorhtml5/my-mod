package com.example.abilitiesweapons.networking.packet;import com.example.abilitiesweapons.AbilitiesWeaponsMod;import com.example.abilitiesweapons.item.custom.AetheriumBladeItem;import com.example.abilitiesweapons.item.custom.VoidcallerScytheItem;import com.example.abilitiesweapons.networking.ModMessages;import net.fabricmc.fabric.api.networking.v1.PacketSender;import net.minecraft.item.ItemStack;import net.minecraft.server.MinecraftServer;import net.minecraft.server.network.ServerPlayNetworkHandler;import net.minecraft.server.network.ServerPlayerEntity;import net.minecraft.text.Text;public class AbilityC2SPacket {public static void receive(MinecraftServer server, ServerPlayerEntity player, ServerPlayNetworkHandler handler, ModMessages.AbilityPacketPayload payload, PacketSender responseSender) {server.execute(() -> {ItemStack mainHandStack = player.getMainHandStack();if (mainHandStack.getItem() instanceof VoidcallerScytheItem scythe) {if (!player.getItemCooldownManager().isOnCooldown(scythe)) {scythe.activateAbility(player);} else {player.sendMessage(Text.translatable("message.abilitiesweapons.cooldown_voidcaller"), true);}} else if (mainHandStack.getItem() instanceof AetheriumBladeItem blade) {if (!player.getItemCooldownManager().isOnCooldown(blade)) {blade.activateAbility(player);} else {player.sendMessage(Text.translatable("message.abilitiesweapons.cooldown_aetherium"), true);}} else {player.sendMessage(Text.translatable("message.abilitiesweapons.no_ability_weapon"), true);}});}}