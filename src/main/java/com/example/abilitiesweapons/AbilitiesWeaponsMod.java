package com.example.abilitiesweapons;import com.example.abilitiesweapons.item.ModItems;import com.example.abilitiesweapons.keybinding.ModKeybindings;import com.example.abilitiesweapons.networking.ModMessages;import net.fabricmc.api.ModInitializer;import net.fabricmc.fabric.api.event.lifecycle.v1.ServerTickEvents;import net.minecraft.item.ItemStack;import net.minecraft.nbt.NbtCompound;import net.minecraft.server.network.ServerPlayerEntity;import org.slf4j.Logger;import org.slf4j.LoggerFactory;public class AbilitiesWeaponsMod implements ModInitializer {public static final String MOD_ID = "abilitiesweapons";public static final Logger LOGGER = LoggerFactory.getLogger(MOD_ID);@Overridepublic void onInitialize() {LOGGER.info("Initializing Abilities Weapons Mod!");ModItems.registerModItems();ModMessages.registerC2SPackets();ServerTickEvents.END_SERVER_TICK.register(server -> {for (ServerPlayerEntity player : server.getPlayerManager().getPlayerList()) {NbtCompound playerData = player.getPersistentData();NbtCompound abilitiesWeaponsData = playerData.getCompound(MOD_ID);if (!abilitiesWeaponsData.contains("has_received_handbook")) {abilitiesWeaponsData.putBoolean("has_received_handbook", true);playerData.put(MOD_ID, abilitiesWeaponsData);ItemStack handbook = ModItems.createAbilitiesHandbook();if (!player.getInventory().insertStack(handbook)) {player.dropItem(handbook, false);}LOGGER.info("Gave Abilities Handbook to player: " + player.getName().getString());}}});}}